---
title: 'Sync Delivery Request'
openapi: 'POST /api/DeliveryRequest/Sync'
---

**Endpoint specification**

- This endpoint helps Service Provider to map AccessRC delivery request with own delivery request. 
- deliveryRequestId is provided to Service Provider within the DELIVERY_REQUEST.SENT event callback body
- At this step if Service Provider can't create delivery records for each assistance item, providerDelivery list can be empty.
- AccessRC requires providerDeliveryRequestId to map the deliveryRequestId and other properties for status tracking and operational integrity

## Request Payload

### Initial Sync

```json
{
    "deliveryRequestId":"2372dd86-1e5d-4110-97ba-ff3c4237a74f",
    "providerDeliveryRequestId":"4d6c8838-dce2-473f-a6e1-6f91c0ebc87c",
    "providerDelivery":[
        {
            "providerDeliveryId":"e05b049a-a93a-4b04-af96-5824e0af6684",
            "deliveryId":"6fd1ca79-1a5d-4bd9-a4c9-b41c48ff6b7a",
            "syncStatus":"SUCCESS",
            "comment":""
        }
    ],
    "message":"Delivery Request successfully created",
    "providerStatus":"WaitingSecondaryLevelTopupApproval",
    "status":"PENDING_APPROVAL"
}
```

### Failed Sync

```json
{
    "deliveryRequestId":"2372dd86-1e5d-4110-97ba-ff3c4237a74f",
    "providerDeliveryRequestId":"4d6c8838-dce2-473f-a6e1-6f91c0ebc87c",
    "providerDelivery":[
        {
            "providerDeliveryId":"",
            "deliveryId":"6fd1ca79-1a5d-4bd9-a4c9-b41c48ff6b7a",
            "syncStatus":"FAILED",
            "comment":"IBAN is missing"
        }
    ],
    "message":"Delivery Request cannot be synced. Deliveries has inconvenience. Please check the delivery details.",
    "providerStatus":"Rejected",
    "status":"REJECTED"
}
```

### Update Sync

```json
{
    "deliveryRequestId":"2372dd86-1e5d-4110-97ba-ff3c4237a74f",
    "providerDeliveryRequestId":"4d6c8838-dce2-473f-a6e1-6f91c0ebc87c",
    "providerDelivery":[
        {
            "providerDeliveryId":"e05b049a-a93a-4b04-af96-5824e0af6684",
            "deliveryId":"6fd1ca79-1a5d-4bd9-a4c9-b41c48ff6b7a",
            "syncStatus":"SUCCESS",
            "comment":""
        }
    ],
    "message":"Approve 146,515 UAH of payment to 27 beneficiaries at Location: Bulgarian Red Cross, Bulgaria via Activity: Winterization MoneyGram Bulgaria - IBAN UAH",
    "providerStatus":"Completed",
    "status":"APPROVED"
}
```

**Status**

- PENDING_APPROVAL -> Delivery request is in an approval process
- REJECTED -> Delivery request is rejected
- APPROVED -> Delivery request is approved

**Sync Status**

- SUCCESS -> Delivery request delivery is successfully synced to Service Provider
- FAILED -> Delivery request delivery is failed to sync to Service Provider