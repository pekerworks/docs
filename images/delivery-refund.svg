<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="814.8728795139323" height="1000.547194631727"><desc>%23https%3A%2F%2Fsequencediagram.org%2F%0Atitle%20Refund%20Delivery%20Event%0Aactor%20%22Assitance%20Program%20%5CnApplicant%22%20as%20Applicant%0Aparticipant%20%22AccessRC%22%20as%20AccessRC%0Aparticipant%20%22Service%20Provider%22%20as%20FSP%0Aactor%20%22SP%20Registrar%22%20as%20SPM%0A%0ASPM-%3EAccessRC%3AService%20Provider%20subscribes%20to%20%5Cn**REFUND_DELIVERY**%20event%0AApplicant-%3EAccessRC%3ASends%20a%20refund%20event%0Aalt%20Successfull%20Callback%20Request%0AAccessRC-%3EFSP%3ASend%20Refund%20Delivery%20callback%20request%20%5CnREFUND_DELIVERY%5CnPOST%20callbackUrl%5Cn**CallbackData**%0Aactivate%20AccessRC%23DarkSalmon%0Aactivate%20FSP%20%23Gray%0AFSP--%3EAccessRC%3AResponse%5Cn200%0Aelse%20Failed%20Callback%20Request%0AFSP--%23red%3EAccessRC%3A%3Ccolor%3A%23red%3EResponse%20%5Cn4xx%2C500%5Cn**Error%20Message**%0Adeactivate%20FSP%0A%0Aloop%20send%20callback%20n%20times%0Anote%20over%20AccessRC%3ACallback%20retries%20periodically%20%5Cnuntil%20success%20message%20%5Cnreturned%20from%20SP%20within%20%5Cnconfigured%20limits%20of%20n%20retries%0Aend%0Adeactivate%20AccessRC%0Aend%0A%0AFSP-%3EFSP%3AChecks%20and%20refunds%20%5Cndelivery%20if%20possible</desc><defs/><g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g><rect fill="white" stroke="none" x="0" y="0" width="814" height="1000"/></g><g/><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 72.75432901738282 156.14283943172725 L 72.75432901738282 1000.547194631727" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 267.8315864188151 156.14283943172725 L 267.8315864188151 1000.547194631727" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 589.0203353132162 156.14283943172725 L 589.0203353132162 1000.547194631727" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 764.5272724203776 156.14283943172725 L 764.5272724203776 1000.547194631727" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/></g><g><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 82.78163073538282 64.13794822972727 A 10.027301717999999 10.027301717999999 0 1 1 82.78162572173237 64.12792092968049 M 72.75432901738282 74.16524994772726 L 72.75432901738282 95.62719397572727 M 60.08826368938281 81.90562320372726 L 85.42039434538282 81.90562320372726 M 72.75432901738282 95.62719397572727 L 60.08826368938281 115.68179741172726 M 72.75432901738282 95.62719397572727 L 85.42039434538282 115.68179741172726" stroke-miterlimit="10" stroke-width="2.990598758" stroke-dasharray=""/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="8.795878700000003" y="133.27355481172725" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Assitance Program </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="42.6004441296875" y="150.86531221172726" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Applicant</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 214.53194419059636 108.82101202572727 L 321.1312286470339 108.82101202572727 L 321.1312286470339 156.14283943172728 L 214.53194419059636 156.14283943172728 L 214.53194419059636 108.82101202572727 Z" stroke-miterlimit="10" stroke-width="2.814681184" stroke-dasharray=""/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="233.61900096959636" y="138.55108203172725" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">AccessRC</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 516.1609472964232 108.82101202572727 L 661.8797233300091 108.82101202572727 L 661.8797233300091 156.14283943172728 L 516.1609472964232 156.14283943172728 L 516.1609472964232 108.82101202572727 Z" stroke-miterlimit="10" stroke-width="2.814681184" stroke-dasharray=""/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="535.2480040754232" y="138.55108203172725" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Service Provider</text></g><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 774.5545741383776 81.72970562972726 A 10.027301717999999 10.027301717999999 0 1 1 774.5545691247271 81.71967832968048 M 764.5272724203776 91.75700734772725 L 764.5272724203776 113.21895137572724 M 751.8612070923776 99.49738060372727 L 777.1933377483775 99.49738060372727 M 764.5272724203776 113.21895137572724 L 751.8612070923776 133.27355481172725 M 764.5272724203776 113.21895137572724 L 777.1933377483775 133.27355481172725" stroke-miterlimit="10" stroke-width="2.990598758" stroke-dasharray=""/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="722.9775440268229" y="150.86531221172726" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">SP Registrar</text></g></g><g><path fill="DarkSalmon" stroke="black" paint-order="fill stroke markers" d=" M 259.0357077188151 430.57425487172725 L 276.6274651188151 430.57425487172725 L 276.6274651188151 822.8704448917271 L 259.0357077188151 822.8704448917271 L 259.0357077188151 430.57425487172725" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><path fill="Gray" stroke="black" paint-order="fill stroke markers" d=" M 580.2244566132161 430.57425487172725 L 597.8162140132162 430.57425487172725 L 597.8162140132162 629.3611134917271 L 580.2244566132161 629.3611134917271 L 580.2244566132161 430.57425487172725" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="16pt" font-style="normal" font-weight="normal" text-decoration="normal" x="300.8916931152344" y="26.547561167272725" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Refund Delivery Event</text></g><g><rect fill="white" stroke="none" x="412.5099498672135" y="191.32635423172724" width="207.33895910476562" height="22.86928462"/><rect fill="white" stroke="none" x="412.5099498672135" y="208.91811163172724" width="147.28898657058593" height="22.86928462"/><rect fill="white" stroke="none" x="412.5099498672135" y="208.91811163172724" width="45.21308935378906" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="415.1487134772135" y="207.15893589172725" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Service Provider subscribes to </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="bold" text-decoration="normal" x="415.1487134772135" y="224.75069329172726" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">REFUND_DELIVERY</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="557.1601728277994" y="224.75069329172726" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> event</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 764.5272724203776 231.78739625172724 L 282.3154666781484 231.78739625172724" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(267.8315864188151,231.78739625172724) translate(-267.8315864188151,-231.78739625172724)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 282.49138425214846 224.45749733506057 L 267.8315864188151 231.78739625172724 L 282.49138425214846 239.11729516839392 Z"/></g></g><g><rect fill="white" stroke="none" x="97.96918129071615" y="258.1750323517273" width="144.64755285476562" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="100.60794490071615" y="274.0076140117273" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Sends a refund event</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 72.75432901738282 281.04431697172726 L 253.3477061594818 281.04431697172726" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(267.8315864188151,281.04431697172726) translate(-267.8315864188151,-281.04431697172726)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 253.17178858548178 273.7144180550606 L 267.8315864188151 281.04431697172726 L 253.17178858548178 288.3742158883939 Z"/></g></g><g><rect fill="white" stroke="none" x="297.44437804214846" y="354.92969805172726" width="261.9631656477344" height="22.86928462"/><rect fill="white" stroke="none" x="297.44437804214846" y="372.52145545172726" width="146.76643408035156" height="22.86928462"/><rect fill="white" stroke="none" x="297.44437804214846" y="390.11321285172727" width="120.95393408035156" height="22.86928462"/><rect fill="white" stroke="none" x="297.44437804214846" y="407.7049702517273" width="97.35339391921875" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="300.08314165214847" y="370.7622797117273" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Send Refund Delivery callback request </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="300.08314165214847" y="388.3540371117273" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">REFUND_DELIVERY</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="300.08314165214847" y="405.9457945117273" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">POST callbackUrl</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="bold" text-decoration="normal" x="300.08314165214847" y="423.5375519117273" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">CallbackData</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 276.6274651188151 430.57425487172725 L 565.7405763538828 430.57425487172725" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(580.2244566132161,430.57425487172725) translate(-580.2244566132161,-430.57425487172725)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 565.5646587798828 423.2443559550606 L 580.2244566132161 430.57425487172725 L 565.5646587798828 437.9041537883939 Z"/></g></g><g><rect fill="white" stroke="none" x="392.7807656764258" y="456.96189097172726" width="71.29039037917968" height="22.86928462"/><rect fill="white" stroke="none" x="392.7807656764258" y="474.55364837172726" width="29.737076170195312" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="395.4195292864258" y="472.7944726317273" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Response</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="395.4195292864258" y="490.3862300317273" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">200</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 580.2244566132161 497.42293299172724 L 291.1113453781484 497.42293299172724" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="7.0367029599999995"/><g transform="translate(276.6274651188151,497.42293299172724) translate(-276.6274651188151,-497.42293299172724)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 291.28726295214847 490.0930340750606 L 276.6274651188151 497.42293299172724 L 291.28726295214847 504.7528319083939 Z"/></g></g><g><rect fill="white" stroke="none" x="374.86021819107424" y="571.3083140717271" width="75.36340368484375" height="22.86928462"/><rect fill="white" stroke="none" x="374.86021819107424" y="588.9000714717271" width="56.62324560378906" height="22.86928462"/><rect fill="white" stroke="none" x="374.86021819107424" y="606.4918288717271" width="107.13148534988281" height="22.86928462"/><text fill="red" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="377.49898180107425" y="587.140895731727" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Response </text><text fill="red" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="377.49898180107425" y="604.732653131727" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">4xx,500</text><text fill="red" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="bold" text-decoration="normal" x="377.49898180107425" y="622.324410531727" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Error Message</text></g><g><path fill="none" stroke="red" paint-order="fill stroke markers" d=" M 580.2244566132161 629.3611134917271 L 291.1113453781484 629.3611134917271" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="7.0367029599999995"/><g transform="translate(276.6274651188151,629.3611134917271) translate(-276.6274651188151,-629.3611134917271)"><path fill="red" stroke="none" paint-order="stroke fill markers" d=" M 291.28726295214847 622.0312145750604 L 276.6274651188151 629.3611134917271 L 291.28726295214847 636.6910124083938 Z"/></g></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 151.95050154709634 703.246494571727 L 367.88008963053386 703.246494571727 L 383.7126712905339 719.079076231727 L 383.7126712905339 796.482808791727 L 151.95050154709634 796.482808791727 L 151.95050154709634 703.246494571727 M 367.88008963053386 703.246494571727 L 367.88008963053386 719.079076231727 L 383.7126712905339 719.079076231727" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="176.57896190709636" y="727.8749549317271" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Callback retries periodically </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="176.57896190709636" y="745.4667123317271" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">until success message </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="176.57896190709636" y="763.0584697317271" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">returned from SP within </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="176.57896190709636" y="780.6502271317271" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">configured limits of n retries</text></g><g><rect fill="white" stroke="none" x="609.8372482365495" y="875.6457170917271" width="139.73703039382812" height="22.86928462"/><rect fill="white" stroke="none" x="609.8372482365495" y="893.2374744917271" width="125.05554235671875" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="612.4760118465495" y="891.478298751727" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Checks and refunds </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="612.4760118465495" y="909.070056151727" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">delivery if possible</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 589.0203353132162 916.106759111727 L 659.3873649132162 916.106759111727 L 659.3873649132162 938.976043731727 L 603.5042155725495 938.976043731727" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(589.0203353132162,938.976043731727) translate(-589.0203353132162,-938.976043731727)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 603.6801331465495 931.6461448150603 L 589.0203353132162 938.976043731727 L 603.6801331465495 946.3059426483937 Z"/></g></g><g><g/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 116.76698674709635 307.43195307172726 L 650.5914862132162 307.43195307172726 L 650.5914862132162 849.2580809917272 L 116.76698674709635 849.2580809917272 L 116.76698674709635 307.43195307172726 Z" stroke-miterlimit="10" stroke-width="2.5131082" stroke-dasharray=""/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 116.76698674709635 307.43195307172726 L 116.76698674709635 328.54206195172725 L 165.63929854416665 328.54206195172725 L 176.19435298416664 317.98700751172726 L 176.19435298416664 307.43195307172726 L 116.76698674709635 307.43195307172726" stroke-miterlimit="10" stroke-width="2.5131082" stroke-dasharray=""/><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="134.35874414709636" y="321.50535899172723" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">alt</text><g><rect fill="white" stroke="none" x="191.14734677416664" y="308.83929366372723" width="179.33154333328125" height="18.295427696"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="193.78611038416665" y="321.50535899172723" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[Successfull Callback Request]</text><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 116.76698674709635 523.8105690917272 L 650.5914862132162 523.8105690917272" stroke-miterlimit="10" stroke-width="2.5131082" stroke-dasharray="4.39793935"/></g><g/><g><rect fill="white" stroke="none" x="191.14734677416664" y="525.2179096837273" width="148.03056371902343" height="18.295427696"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="193.78611038416665" y="537.8839750117272" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[Failed Callback Request]</text></g><g/><g><g/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 143.15462284709633 655.7487495917271 L 392.5085499905339 655.7487495917271 L 392.5085499905339 822.8704448917271 L 143.15462284709633 822.8704448917271 L 143.15462284709633 655.7487495917271 Z" stroke-miterlimit="10" stroke-width="2.5131082" stroke-dasharray=""/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 143.15462284709633 655.7487495917271 L 143.15462284709633 676.8588584717271 L 203.09253217834635 676.8588584717271 L 213.64758661834634 666.3038040317272 L 213.64758661834634 655.7487495917271 L 143.15462284709633 655.7487495917271" stroke-miterlimit="10" stroke-width="2.5131082" stroke-dasharray=""/><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="160.74638024709634" y="669.8221555117271" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">loop</text><g><rect fill="white" stroke="none" x="228.60058040834633" y="657.1560901837272" width="134.35321081375" height="18.295427696"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="231.23934401834634" y="669.8221555117271" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[send callback n times]</text></g></g></g></svg>